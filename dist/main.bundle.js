(()=>{"use strict";var t={674:(t,n,e)=>{e.d(n,{Z:()=>o});var r=e(645),i=e.n(r)()((function(t){return t[1]}));i.push([t.id,"circle {\n\tz-index: -1;\n\tfill: rgba(0,0,255,0.25);\n\tstroke: black;\n\tstroke-width: 1px;\n}\n\ncircle.canadian {\n\tfill: rgba(255,0,0,0.25);\n}\n\nline {\n\tstroke: grey;\n\tstroke-width: 1px;\n}\n\nline.sister {\n\tstroke: red;\n}\n\n#legend {\n\tfill: rgba(255,255,255,0.75);\n\tstroke: red;\n\tstroke-width: 1px;\n}\n",""]);const o=i},645:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=t(n);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var u=this[o][0];null!=u&&(i[u]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);r&&i[c[0]]||(e&&(c[2]?c[2]="".concat(e," and ").concat(c[2]):c[2]=e),n.push(c))}},n}},379:(t,n,e)=>{var r,i=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),o=[];function u(t){for(var n=-1,e=0;e<o.length;e++)if(o[e].identifier===t){n=e;break}return n}function a(t,n){for(var e={},r=[],i=0;i<t.length;i++){var a=t[i],c=n.base?a[0]+n.base:a[0],s=e[c]||0,l="".concat(c," ").concat(s);e[c]=s+1;var f=u(l),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(o[f].references++,o[f].updater(h)):o.push({identifier:l,updater:v(h,n),references:1}),r.push(l)}return r}function c(t){var n=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=e.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){n.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(n);else{var u=i(t.insert||"head");if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(n)}return n}var s,l=(s=[],function(t,n){return s[t]=n,s.filter(Boolean).join("\n")});function f(t,n,e,r){var i=e?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(n,i);else{var o=document.createTextNode(i),u=t.childNodes;u[n]&&t.removeChild(u[n]),u.length?t.insertBefore(o,u[n]):t.appendChild(o)}}function h(t,n,e){var r=e.css,i=e.media,o=e.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function v(t,n){var e,r,i;if(n.singleton){var o=d++;e=p||(p=c(n)),r=f.bind(null,e,o,!1),i=f.bind(null,e,o,!0)}else e=c(n),r=h.bind(null,e,n),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return r(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r(t=n)}else i()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var e=a(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<e.length;r++){var i=u(e[r]);o[i].references--}for(var c=a(t,n),s=0;s<e.length;s++){var l=u(e[s]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}e=c}}}}},n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={id:r,exports:{}};return t[r](i,i.exports,e),i.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{function t(){}function n(n){return null==n?t:function(){return this.querySelector(n)}}function r(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function i(){return[]}function o(t){return function(n){return n.matches(t)}}var u=Array.prototype.find;function a(){return this.firstElementChild}var c=Array.prototype.filter;function s(){return this.children}function l(t){return new Array(t.length)}function f(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function h(t){return function(){return t}}function p(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new f(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function d(t,n,e,r,i,o,u){var a,c,s,l=new Map,h=n.length,p=o.length,d=new Array(h);for(a=0;a<h;++a)(c=n[a])&&(d[a]=s=u.call(c,c.__data__,a,n)+"",l.has(s)?i[a]=c:l.set(s,c));for(a=0;a<p;++a)s=u.call(t,o[a],a,o)+"",(c=l.get(s))?(r[a]=c,c.__data__=o[a],l.delete(s)):e[a]=new f(t,o[a]);for(a=0;a<h;++a)(c=n[a])&&l.get(d[a])===c&&(i[a]=c)}function v(t){return t.__data__}function y(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}f.prototype={constructor:f,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var g="http://www.w3.org/1999/xhtml";const _={svg:"http://www.w3.org/2000/svg",xhtml:g,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function m(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),_.hasOwnProperty(n)?{space:_[n],local:t}:t}function x(t){return function(){this.removeAttribute(t)}}function w(t){return function(){this.removeAttributeNS(t.space,t.local)}}function b(t,n){return function(){this.setAttribute(t,n)}}function A(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function N(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function M(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function E(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function S(t){return function(){this.style.removeProperty(t)}}function k(t,n,e){return function(){this.style.setProperty(t,n,e)}}function j(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function T(t,n){return t.style.getPropertyValue(n)||E(t).getComputedStyle(t,null).getPropertyValue(n)}function C(t){return function(){delete this[t]}}function q(t,n){return function(){this[t]=n}}function P(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function O(t){return t.trim().split(/^|\s+/)}function D(t){return t.classList||new L(t)}function L(t){this._node=t,this._names=O(t.getAttribute("class")||"")}function B(t,n){for(var e=D(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function z(t,n){for(var e=D(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function I(t){return function(){B(this,t)}}function U(t){return function(){z(this,t)}}function R(t,n){return function(){(n.apply(this,arguments)?B:z)(this,t)}}function V(){this.textContent=""}function H(t){return function(){this.textContent=t}}function X(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Y(){this.innerHTML=""}function F(t){return function(){this.innerHTML=t}}function G(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Z(){this.nextSibling&&this.parentNode.appendChild(this)}function J(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===g&&n.documentElement.namespaceURI===g?n.createElement(t):n.createElementNS(e,t)}}function Q(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function W(t){var n=m(t);return(n.local?Q:K)(n)}function $(){return null}function tt(){var t=this.parentNode;t&&t.removeChild(this)}function nt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function et(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function rt(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function it(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function ot(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function ut(t,n,e){var r=E(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function at(t,n){return function(){return ut(this,t,n)}}function ct(t,n){return function(){return ut(this,t,n.apply(this,arguments))}}L.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var st=[null];function lt(t,n){this._groups=t,this._parents=n}function ft(t){return"string"==typeof t?new lt([[document.querySelector(t)]],[document.documentElement]):new lt([[t]],st)}function ht(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function pt(t,n){return fetch(t,n).then(ht)}lt.prototype=function(){return new lt([[document.documentElement]],st)}.prototype={constructor:lt,select:function(t){"function"!=typeof t&&(t=n(t));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var u,a,c=e[o],s=c.length,l=i[o]=new Array(s),f=0;f<s;++f)(u=c[f])&&(a=t.call(u,u.__data__,f,c))&&("__data__"in u&&(a.__data__=u.__data__),l[f]=a);return new lt(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);return null==n?[]:r(n)}}(t):function(t){return null==t?i:function(){return this.querySelectorAll(t)}}(t);for(var n=this._groups,e=n.length,o=[],u=[],a=0;a<e;++a)for(var c,s=n[a],l=s.length,f=0;f<l;++f)(c=s[f])&&(o.push(t.call(c,c.__data__,f,s)),u.push(c));return new lt(o,u)},selectChild:function(t){return this.select(null==t?a:function(t){return function(){return u.call(this.children,t)}}("function"==typeof t?t:o(t)))},selectChildren:function(t){return this.selectAll(null==t?s:function(t){return function(){return c.call(this.children,t)}}("function"==typeof t?t:o(t)))},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new lt(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,v);var e=n?d:p,i=this._parents,o=this._groups;"function"!=typeof t&&(t=h(t));for(var u=o.length,a=new Array(u),c=new Array(u),s=new Array(u),l=0;l<u;++l){var f=i[l],y=o[l],g=y.length,_=r(t.call(f,f&&f.__data__,l,i)),m=_.length,x=c[l]=new Array(m),w=a[l]=new Array(m),b=s[l]=new Array(g);e(f,y,x,w,b,_,n);for(var A,N,M=0,E=0;M<m;++M)if(A=x[M]){for(M>=E&&(E=M+1);!(N=w[E])&&++E<m;);A._next=N||null}}return(a=new lt(a,i))._enter=c,a._exit=s,a},enter:function(){return new lt(this._enter||this._groups.map(l),this._parents)},exit:function(){return new lt(this._exit||this._groups.map(l),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof lt))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],l=e[a],f=s.length,h=u[a]=new Array(f),p=0;p<f;++p)(c=s[p]||l[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new lt(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=y);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,s=i[o]=new Array(c),l=0;l<c;++l)(u=a[l])&&(s[l]=u);s.sort(n)}return new lt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=m(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?w:x:"function"==typeof n?e.local?M:N:e.local?A:b)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?S:"function"==typeof n?j:k)(t,n,null==e?"":e)):T(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?C:"function"==typeof n?P:q)(t,n)):this.node()[t]},classed:function(t,n){var e=O(t+"");if(arguments.length<2){for(var r=D(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?R:n?I:U)(e,n))},text:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?X:H)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Y:("function"==typeof t?G:F)(t)):this.node().innerHTML},raise:function(){return this.each(Z)},lower:function(){return this.each(J)},append:function(t){var n="function"==typeof t?t:W(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,e){var r="function"==typeof t?t:W(t),i=null==e?$:"function"==typeof e?e:n(e);return this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(tt)},clone:function(t){return this.select(t?et:nt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=rt(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?ot:it,r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,l=a.length;s<l;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?ct:at)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,u=i.length;o<u;++o)(r=i[o])&&(yield r)}};var dt={value:()=>{}};function vt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new yt(r)}function yt(t){this._=t}function gt(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function _t(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function mt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=dt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}yt.prototype=vt.prototype={constructor:yt,on:function(t,n){var e,r=this._,i=gt(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=mt(r[e],t.name,n);else if(null==n)for(e in r)r[e]=mt(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=_t(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new yt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};const xt=vt;var wt,bt,At=0,Nt=0,Mt=0,Et=0,St=0,kt=0,jt="object"==typeof performance&&performance.now?performance:Date,Tt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ct(){return St||(Tt(qt),St=jt.now()+kt)}function qt(){St=0}function Pt(){this._call=this._time=this._next=null}function Ot(t,n,e){var r=new Pt;return r.restart(t,n,e),r}function Dt(){St=(Et=jt.now())+kt,At=Nt=0;try{!function(){Ct(),++At;for(var t,n=wt;n;)(t=St-n._time)>=0&&n._call.call(null,t),n=n._next;--At}()}finally{At=0,function(){for(var t,n,e=wt,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:wt=n);bt=t,Bt(r)}(),St=0}}function Lt(){var t=jt.now(),n=t-Et;n>1e3&&(kt-=n,Et=t)}function Bt(t){At||(Nt&&(Nt=clearTimeout(Nt)),t-St>24?(t<1/0&&(Nt=setTimeout(Dt,t-jt.now()-kt)),Mt&&(Mt=clearInterval(Mt))):(Mt||(Et=jt.now(),Mt=setInterval(Lt,1e3)),At=1,Tt(Dt)))}Pt.prototype=Ot.prototype={constructor:Pt,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Ct():+e)+(null==n?0:+n),this._next||bt===this||(bt?bt._next=this:wt=this,bt=this),this._call=t,this._time=e,Bt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bt())}};const zt=4294967296;function It(t){return t.x}function Ut(t){return t.y}var Rt=Math.PI*(3-Math.sqrt(5));function Vt(t){return function(){return t}}function Ht(t){return 1e-6*(t()-.5)}function Xt(t){return t.index}function Yt(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function Ft(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,c,s,l,f,h,p=t._root,d={data:r},v=t._x0,y=t._y0,g=t._x1,_=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((s=n>=(o=(v+g)/2))?v=o:g=o,(l=e>=(u=(y+_)/2))?y=u:_=u,i=p,!(p=p[f=l<<1|s]))return i[f]=d,t;if(a=+t._x.call(null,p.data),c=+t._y.call(null,p.data),n===a&&e===c)return d.next=p,i?i[f]=d:t._root=d,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(s=n>=(o=(v+g)/2))?v=o:g=o,(l=e>=(u=(y+_)/2))?y=u:_=u}while((f=l<<1|s)==(h=(c>=u)<<1|a>=o));return i[h]=p,i[f]=d,t}function Gt(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Zt(t){return t[0]}function Jt(t){return t[1]}function Kt(t,n,e){var r=new Qt(null==n?Zt:n,null==e?Jt:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Qt(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Wt(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var $t=Kt.prototype=Qt.prototype;function tn(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function nn(t){t.stopImmediatePropagation()}function en(t){t.preventDefault(),t.stopImmediatePropagation()}$t.copy=function(){var t,n,e=new Qt(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Wt(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Wt(n));return e},$t.add=function(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return Ft(this.cover(n,e),n,e,t)},$t.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),c=1/0,s=1/0,l=-1/0,f=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<c&&(c=r),r>l&&(l=r),i<s&&(s=i),i>f&&(f=i));if(c>l||s>f)return this;for(this.cover(c,s).cover(l,f),e=0;e<o;++e)Ft(this,u[e],a[e],t[e]);return this},$t.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var u,a,c=i-e||1,s=this._root;e>t||t>=i||r>n||n>=o;)switch(a=(n<r)<<1|t<e,(u=new Array(4))[a]=s,s=u,c*=2,a){case 0:i=e+c,o=r+c;break;case 1:e=i-c,o=r+c;break;case 2:i=e+c,r=o-c;break;case 3:e=i-c,r=o-c}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},$t.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},$t.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},$t.find=function(t,n,e){var r,i,o,u,a,c,s,l=this._x0,f=this._y0,h=this._x1,p=this._y1,d=[],v=this._root;for(v&&d.push(new Gt(v,l,f,h,p)),null==e?e=1/0:(l=t-e,f=n-e,h=t+e,p=n+e,e*=e);c=d.pop();)if(!(!(v=c.node)||(i=c.x0)>h||(o=c.y0)>p||(u=c.x1)<l||(a=c.y1)<f))if(v.length){var y=(i+u)/2,g=(o+a)/2;d.push(new Gt(v[3],y,g,u,a),new Gt(v[2],i,g,y,a),new Gt(v[1],y,o,u,g),new Gt(v[0],i,o,y,g)),(s=(n>=g)<<1|t>=y)&&(c=d[d.length-1],d[d.length-1]=d[d.length-1-s],d[d.length-1-s]=c)}else{var _=t-+this._x.call(null,v.data),m=n-+this._y.call(null,v.data),x=_*_+m*m;if(x<e){var w=Math.sqrt(e=x);l=t-w,f=n-w,h=t+w,p=n+w,r=v.data}}return r},$t.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,c,s,l,f,h,p=this._root,d=this._x0,v=this._y0,y=this._x1,g=this._y1;if(!p)return this;if(p.length)for(;;){if((s=o>=(a=(d+y)/2))?d=a:y=a,(l=u>=(c=(v+g)/2))?v=c:g=c,n=p,!(p=p[f=l<<1|s]))return this;if(!p.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[h]=p:this._root=p),this):(this._root=i,this)},$t.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},$t.root=function(){return this._root},$t.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},$t.visit=function(t){var n,e,r,i,o,u,a=[],c=this._root;for(c&&a.push(new Gt(c,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&c.length){var s=(r+o)/2,l=(i+u)/2;(e=c[3])&&a.push(new Gt(e,s,l,o,u)),(e=c[2])&&a.push(new Gt(e,r,l,s,u)),(e=c[1])&&a.push(new Gt(e,s,i,o,l)),(e=c[0])&&a.push(new Gt(e,r,i,s,l))}return this},$t.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new Gt(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,c=n.x1,s=n.y1,l=(u+c)/2,f=(a+s)/2;(o=i[0])&&e.push(new Gt(o,u,a,l,f)),(o=i[1])&&e.push(new Gt(o,l,a,c,f)),(o=i[2])&&e.push(new Gt(o,u,f,l,s)),(o=i[3])&&e.push(new Gt(o,l,f,c,s))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},$t.x=function(t){return arguments.length?(this._x=t,this):this._x},$t.y=function(t){return arguments.length?(this._y=t,this):this._y};const rn=t=>()=>t;function on(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:u,y:a,dx:c,dy:s,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:l}})}function un(t){return!t.ctrlKey&&!t.button}function an(){return this.parentNode}function cn(t,n){return null==n?{x:t.x,y:t.y}:n}function sn(){return navigator.maxTouchPoints||"ontouchstart"in this}on.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ln=e(379),fn=e.n(ln),hn=e(674);fn()(hn.Z,{insert:"head",singleton:!1}),hn.Z.locals;var pn="https://www.asiapacific.ca/pgapi/public/jurisdiction.php",dn=ft("svg#map").attr("width","".concat(500,"px")).attr("height","".concat(500,"px")).append("g").attr("id","chart");pt("".concat(pn,"?sisters")).then((function(t){var n=t.jurisdictions,e=t.links;n.map((function(t){t.x=500*Math.random(),t.y=500*Math.random()})),e.map((function(t,e){t.uid=e,t.class="sister",t.source=n.find((function(n){return n.geo_id==t.pair[0]})),t.target=n.find((function(n){return n.geo_id==t.pair[1]}))})),n.map((function(t){var r=n.find((function(n){return n.geo_id==t.parent}));r&&e.push({uid:"".concat(r.geo_id," -> ").concat(t.geo_id),class:"parent",source:r,target:t})})),console.log(e);var r=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,u=.6,a=new Map,c=Ot(f),s=xt("tick","end"),l=function(){let t=1;return()=>(t=(1664525*t+1013904223)%zt)/zt}();function f(){h(),s.call("tick",n),e<r&&(c.stop(),s.call("end",n))}function h(r){var c,s,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(e+=(o-e)*i,a.forEach((function(t){t(e)})),c=0;c<l;++c)null==(s=t[c]).fx?s.x+=s.vx*=u:(s.x=s.fx,s.vx=0),null==s.fy?s.y+=s.vy*=u:(s.y=s.fy,s.vy=0);return n}function p(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=10*Math.sqrt(.5+e),o=e*Rt;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t,l),n}return null==t&&(t=[]),p(),n={tick:h,restart:function(){return c.restart(f),n},stop:function(){return c.stop(),n},nodes:function(e){return arguments.length?(t=e,p(),a.forEach(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(u=1-t,n):1-u},randomSource:function(t){return arguments.length?(l=t,a.forEach(d),n):l},force:function(t,e){return arguments.length>1?(null==e?a.delete(t):a.set(t,d(e)),n):a.get(t)},find:function(n,e,r){var i,o,u,a,c,s=0,l=t.length;for(null==r?r=1/0:r*=r,s=0;s<l;++s)(u=(i=n-(a=t[s]).x)*i+(o=e-a.y)*o)<r&&(c=a,r=u);return c},on:function(t,e){return arguments.length>1?(s.on(t,e),n):s.on(t)}}}(n).force("link",function(t){var n,e,r,i,o,u,a=Xt,c=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},s=Vt(30),l=1;function f(r){for(var i=0,a=t.length;i<l;++i)for(var c,s,f,h,p,d,v,y=0;y<a;++y)s=(c=t[y]).source,h=(f=c.target).x+f.vx-s.x-s.vx||Ht(u),p=f.y+f.vy-s.y-s.vy||Ht(u),h*=d=((d=Math.sqrt(h*h+p*p))-e[y])/d*r*n[y],p*=d,f.vx-=h*(v=o[y]),f.vy-=p*v,s.vx+=h*(v=1-v),s.vy+=p*v}function h(){if(r){var u,c,s=r.length,l=t.length,f=new Map(r.map(((t,n)=>[a(t,n,r),t])));for(u=0,i=new Array(s);u<l;++u)(c=t[u]).index=u,"object"!=typeof c.source&&(c.source=Yt(f,c.source)),"object"!=typeof c.target&&(c.target=Yt(f,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(u=0,o=new Array(l);u<l;++u)c=t[u],o[u]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);n=new Array(l),p(),e=new Array(l),d()}}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}return null==t&&(t=[]),f.initialize=function(t,n){r=t,u=n,h()},f.links=function(n){return arguments.length?(t=n,h(),f):t},f.id=function(t){return arguments.length?(a=t,f):a},f.iterations=function(t){return arguments.length?(l=+t,f):l},f.strength=function(t){return arguments.length?(c="function"==typeof t?t:Vt(+t),p(),f):c},f.distance=function(t){return arguments.length?(s="function"==typeof t?t:Vt(+t),d(),f):s},f}(e).id((function(t){return t.uid})).distance(20).strength(.5)).force("charge",function(){var t,n,e,r,i,o=Vt(-30),u=1,a=1/0,c=.81;function s(e){var i,o=t.length,u=Kt(t,It,Ut).visitAfter(f);for(r=e,i=0;i<o;++i)n=t[i],u.visit(h)}function l(){if(t){var n,e,r=t.length;for(i=new Array(r),n=0;n<r;++n)e=t[n],i[e.index]=+o(e,n,t)}}function f(t){var n,e,r,o,u,a=0,c=0;if(t.length){for(r=o=u=0;u<4;++u)(n=t[u])&&(e=Math.abs(n.value))&&(a+=n.value,c+=e,r+=e*n.x,o+=e*n.y);t.x=r/c,t.y=o/c}else{(n=t).x=n.data.x,n.y=n.data.y;do{a+=i[n.data.index]}while(n=n.next)}t.value=a}function h(t,o,s,l){if(!t.value)return!0;var f=t.x-n.x,h=t.y-n.y,p=l-o,d=f*f+h*h;if(p*p/c<d)return d<a&&(0===f&&(d+=(f=Ht(e))*f),0===h&&(d+=(h=Ht(e))*h),d<u&&(d=Math.sqrt(u*d)),n.vx+=f*t.value*r/d,n.vy+=h*t.value*r/d),!0;if(!(t.length||d>=a)){(t.data!==n||t.next)&&(0===f&&(d+=(f=Ht(e))*f),0===h&&(d+=(h=Ht(e))*h),d<u&&(d=Math.sqrt(u*d)));do{t.data!==n&&(p=i[t.data.index]*r/d,n.vx+=f*p,n.vy+=h*p)}while(t=t.next)}}return s.initialize=function(n,r){t=n,e=r,l()},s.strength=function(t){return arguments.length?(o="function"==typeof t?t:Vt(+t),l(),s):o},s.distanceMin=function(t){return arguments.length?(u=t*t,s):Math.sqrt(u)},s.distanceMax=function(t){return arguments.length?(a=t*t,s):Math.sqrt(a)},s.theta=function(t){return arguments.length?(c=t*t,s):Math.sqrt(c)},s}().strength(-50)).force("x",function(t){var n,e,r,i=Vt(.1);function o(t){for(var i,o=0,u=n.length;o<u;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function u(){if(n){var o,u=n.length;for(e=new Array(u),r=new Array(u),o=0;o<u;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=Vt(null==t?0:+t)),o.initialize=function(t){n=t,u()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Vt(+t),u(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:Vt(+n),u(),o):t},o}(250)).force("y",function(t){var n,e,r,i=Vt(.1);function o(t){for(var i,o=0,u=n.length;o<u;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function u(){if(n){var o,u=n.length;for(e=new Array(u),r=new Array(u),o=0;o<u;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=Vt(null==t?0:+t)),o.initialize=function(t){n=t,u()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Vt(+t),u(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:Vt(+n),u(),o):t},o}(250)),i=dn.selectAll("line").data(e).join("line");i.attr("x1",(function(t){return t.source.x})).attr("x2",(function(t){return t.target.x})).attr("y1",(function(t){return t.source.y})).attr("y2",(function(t){return t.target.y})).attr("class",(function(t){return t.class}));var o=dn.selectAll("circle").data(n).join("circle");o.attr("id",(function(t){return t.geo_id})).attr("r",8).attr("class",(function(t){return t.canadian?"canadian":null})).attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).call(function(t){return function(){var t,n,e,r,i=un,o=an,u=cn,a=sn,c={},s=xt("start","drag","end"),l=0,f=0;function h(t){t.on("mousedown.drag",p).filter(a).on("touchstart.drag",y).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(u,a){if(!r&&i.call(this,u,a)){var c=m(this,o.call(this,u,a),u,a,"mouse");c&&(ft(u.view).on("mousemove.drag",d,!0).on("mouseup.drag",v,!0),function(t){var n=t.document.documentElement,e=ft(t).on("dragstart.drag",en,!0);"onselectstart"in n?e.on("selectstart.drag",en,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}(u.view),nn(u),e=!1,t=u.clientX,n=u.clientY,c("start",u))}}function d(r){if(en(r),!e){var i=r.clientX-t,o=r.clientY-n;e=i*i+o*o>f}c.mouse("drag",r)}function v(t){ft(t.view).on("mousemove.drag mouseup.drag",null),function(t,n){var e=t.document.documentElement,r=ft(t).on("dragstart.drag",null);n&&(r.on("click.drag",en,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}(t.view,e),en(t),c.mouse("end",t)}function y(t,n){if(i.call(this,t,n)){var e,r,u=t.changedTouches,a=o.call(this,t,n),c=u.length;for(e=0;e<c;++e)(r=m(this,a,t,n,u[e].identifier,u[e]))&&(nn(t),r("start",t,u[e]))}}function g(t){var n,e,r=t.changedTouches,i=r.length;for(n=0;n<i;++n)(e=c[r[n].identifier])&&(en(t),e("drag",t,r[n]))}function _(t){var n,e,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),n=0;n<o;++n)(e=c[i[n].identifier])&&(nn(t),e("end",t,i[n]))}function m(t,n,e,r,i,o){var a,f,p,d=s.copy(),v=tn(o||e,n);if(null!=(p=u.call(t,new on("beforestart",{sourceEvent:e,target:h,identifier:i,active:l,x:v[0],y:v[1],dx:0,dy:0,dispatch:d}),r)))return a=p.x-v[0]||0,f=p.y-v[1]||0,function e(o,u,s){var y,g=v;switch(o){case"start":c[i]=e,y=l++;break;case"end":delete c[i],--l;case"drag":v=tn(s||u,n),y=l}d.call(o,t,new on(o,{sourceEvent:u,subject:p,target:h,identifier:i,active:y,x:v[0]+a,y:v[1]+f,dx:v[0]-g[0],dy:v[1]-g[1],dispatch:d}),r)}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:rn(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:rn(t),h):o},h.subject=function(t){return arguments.length?(u="function"==typeof t?t:rn(t),h):u},h.touchable=function(t){return arguments.length?(a="function"==typeof t?t:rn(!!t),h):a},h.on=function(){var t=s.on.apply(s,arguments);return t===s?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}().on("start",(function(n){n.active||t.alphaTarget(.3).restart(),n.subject.fx=n.subject.x,n.subject.fy=n.subject.y})).on("drag",(function(t){t.subject.fx=t.x,t.subject.fy=t.y})).on("end",(function(n){n.active||t.alphaTarget(0),n.subject.fx=null,n.subject.fy=null}))}(r)).append("title").text((function(t){return t.name.en})),pt("".concat(pn,"?geo_id=2&listDescendants")).then((function(t){var e=new Set(t.descendants.map((function(t){return t.geo_id})));n.map((function(t){e.has(t.geo_id)&&(t.canadian=!0)})),o.attr("class",(function(t){return t.canadian?"canadian":null}))})),r.on("tick",(function(){i.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),o.attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y}))}))}))})()})();